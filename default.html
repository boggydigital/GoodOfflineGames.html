<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <title>GOG.com collection</title>
    <meta name="viewport" content="width=device-width" />
    <link rel="stylesheet" href="./_styles/stylesNoCSSCustomProperties.css" />
    <link rel="stylesheet" href="./_styles/styles.css" />
</head>

<!-- switch default theme on the body: dark, light -->

<body class="windows dark">

    <div id="search" role="search">
        <h1 id="appTitle">GoodOfflineGames.html</h1>
        <input type="search" role="searchbox" tabindex="1" placeholder="Find a product" />
    </div>
    <nav id="products" tabindex="2" data-ui="list" data-list-item-template="product"></nav>
    <main id="gameDetails" tabindex="3"></main>

    <div id='screenshotFullscreenContainer' tabindex='5' class='hidden' onclick='this.classList.add("hidden")' onkeypress='this.classList.add("hidden")'>
    </div>

    <div id="templates" class="hidden">
        <template id="product">
            <li data-id='{{id}}' class='product {{class}}' title='{{title}}' tabindex="-1">
                <div class='title'>{{title}}</div>
                <div class='tags' title='{{tags}}'>{{tags}}</div>
            </li>
        </template>
        <template id="gameDetails">
            <div class='container {{visibility}}'>
                [[productTitle]] [[productImage]] [[tabs]] [[tabInformationContent]] [[tabFilesContent]] [[tabScreenshotsContent]] [[tabChangelogContent]]
            </div>
        </template>
        <template id="productTitle">
            <h1>{{title}}</h1>
        </template>
        <template id="productImage">
            <img class='hidden' data-srcset='{{hero}} 1x, {{heroRetina}} 2x' data-src='{{heroRetina}}' onerror="this.classList.add('hidden')"
                alt='Product image'>
        </template>
        <template id='tabs'>
            <div class='tabs'>
                <div class='tab information selected'>Information</div>
                <div class='tab files'>Files</div>
                <div class='tab screenshots'>Screenshots</div>
                <div class='tab changelog'>Changelog</div>
            </div>
        </template>
        <template id='tabInformationContent'>
            <div for='information' class='tabContent'>
                [[information]] [[links]] [[cdKey]] [[genres]] [[series]] [[requiredProducts]] [[dlc]]
            </div>
        </template>
        <template id='tabFilesContent'>
            <div for='files' class='tabContent hidden'>
                [[files]]
            </div>
        </template>
        <template id='tabScreenshotsContent'>
            <div for='screenshots' class='tabContent hidden'>
                [[screenshots]]
            </div>
        </template>
        <template id='tabChangelogContent'>
            <div for='changelog' class='tabContent hidden'>
                [[changelog]]
            </div>
        </template>
        <template id="information">
            <div class='informationSection'>
                <h3>Developer</h3>
                <p>{{developer}}</p>
                <h3>Publisher</h3>
                <p>{{publisher}}</p>
                <h3>Works on</h3>
                <p>{{worksOn}}</p>
            </div>
        </template>
        <template id="cdKey">
            <div class="cdKeySection">
                <h3>CD Key (select to reveal)</h3>
                <p>{{cdKey}}</p>
            </div>
        </template>
        <template id="genres">
            <div class='genresSection'>
                <h3 class='title'>Genres</h3>
                <p>{{genres}}</p>
            </div>
        </template>
        <template id="series">
            <div class='seriesSection'>
                <h3>Series</h3>
                <p>{{series}}</p>
            </div>
        </template>
        <template id="requiredProducts">
            <div class='requiredProductsSection'>
                <h3>Required products</h3>
                <p>{{requiredProducts}}</p>
            </div>
        </template>
        <template id="dlc">
            <div class='dlcSection'>
                <h3>Downloadable content</h3>
                <p>{{dlc}}</p>
            </div>
        </template>
        <template id='links'>
            <div class='linksSection'>
                <h3>Links</h3>
                <a href='https://www.gog.com/game/{{slug}}'>Product page</a>
                <br>
                <a href='https://www.gog.com/forum/{{slug}}'>Community page</a>
            </div>
        </template>
        <template id="screenshots">
            <template data-images='{{screenshots}}'></template>
        </template>
        <template id='files'>
            <div class='filesSection'>
                <template data-files='{{files}}'></template>
            </div>
        </template>
        <template id='changelog'>
            <div class='changelogSection'>
                {{changelog}}
            </div>
        </template>
        <template id='focusableImage'>
            <img class='hidden' tabindex='4' data-src='{{uri}}' onclick='screenshotsController.showFullscreen(this)' onkeypress='screenshotsController.showFullscreen(this)'
                onerror="this.classList.add('hidden')">
        </template>
        <template id='fileLink'>
            <a class='file' href='./{{folder}}/{{file}}'>
                <span class='name' title='{{name}}'>{{name}}</span>
                <span class='operatingSystem'>{{operatingSystem}}</span>
                <span class='language'>{{language}}</span>
                <span class='size'>{{size}}</span>
            </a>
        </template>
    </div>

    <script>
        var products = undefined;
        var productsdata = undefined;
        var gamedetails = undefined;
        var owned = undefined;
        var wishlisted = undefined;
        var screenshots = undefined;
        var productfiles = undefined;

        // this is declared in global scope to make focusableImage onclick work
        var screenshotsController = undefined;

        var exports = {};
    </script>
    <!-- model -->
    <script src="./products.js"></script>
    <script src="./owned.js"></script>
    <script src="./wishlisted.js"></script>
    <script src="./productsdata.js"></script>
    <script src="./gamedetails.js"></script>
    <script src="./productfiles.js"></script>
    <script src="./screenshots.js"></script>
    <!-- controllers -->
    <script src="./_app/release/templateController.js"></script>
    <script src="./_app/release/bindController.js"></script>
    <script src="./_app/release/languageController.js"></script>
    <script src="./_app/release/eventCallbackController.js"></script>
    <script src="./_app/release/searchController.js"></script>
    <!-- dataControllers -->
    <script src="./_app/release/dataControllers/collectionController.js"></script>
    <script src="./_app/release/dataControllers/productsController.js"></script>
    <script src="./_app/release/dataControllers/tagsController.js"></script>
    <script src="./_app/release/dataControllers/screenshotsController.js"></script>
    <!-- viewControllers -->
    <script src="./_app/release/imageUriController.js"></script>
    <script src="./_app/release/postProcessingController.js"></script>
    <script src="./_app/release/viewControllers/viewController.js"></script>
    <script src="./_app/release/viewControllers/listViewController.js"></script>
    <script src="./_app/release/viewControllers/gameDetailsViewController.js"></script>
    <script src="./_app/release/viewControllers/masterDetailViewController.js"></script>
    <!-- viewModels -->
    <script src="./_app/release/viewModels/searchViewModelProvider.js"></script>
    <script src="./_app/release/viewModels/productViewModelProvider.js"></script>
    <script src="./_app/release/viewModels/gameDetailsViewModelProvider.js"></script>
    <!-- application entry point -->
    <script src="./_app/application.js"></script>
</body>

</html>